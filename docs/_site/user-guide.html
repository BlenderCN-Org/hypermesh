<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Hypermesh: User Guide</title>
</head>

<body>
<h1 id="hypermesh-addon-user-guide">Hypermesh addon user guide</h1>

<p>The Blender hypermesh addon allows the manipulation of meshes in 4-dimensional Euclidean space.
This is achieved by using ordinary Blender tools to manipulate <em>projections</em> of this 4-mesh
to 3-dimensional Euclidean space.</p>

<p>This is the user guide for the addon.
It is intended for anybody who wants to <em>use</em> the hypermesh addon.
If you want to understand (or work on) the code, please read this document and also the
file <code>internals.md</code>.</p>

<h2 id="installation">Installation</h2>

<p>There are two ways of installing the addon:</p>

<ul>
  <li>
    <p>The recommended option is to download/clone the repository, and run the script <code>package.py</code>.
This will zip up the contents of the <code>addon</code> folder into a file called <code>hypermesh.zip</code>
(and do some useful renaming).
You can then install the addon using Blender’s <code>File -&gt; User Preferences... -&gt; Install from File...</code>
and picking the generated zip-file.</p>
  </li>
  <li>
    <p>Alternatively, you can manually copy the addon into the Blender addons folder.
To find out where it is located on your system, <a href="https://www.blender.org/manual/getting_started/installing/configuration/directories.html">consult Blender’s documentation</a>.
Most likely, it is <code>[Blender config directory]/scripts/addons/</code>.</p>

    <p>Make sure the addon gets its own folder.
The recommended name for the addon’s folder is <code>hypermesh</code>,
so that you get files <code>[Blender config directory]/scripts/addons/hypermesh/__init__.py</code>
and so on.</p>
  </li>
</ul>

<p>Don’t forget to also <em>enable</em> the addon in the user settings.</p>

<p>To remove the addon, you can use the <em>Remove</em> button in Blender’s user preferences,
or just delete the directory that the addon was installed in (typically <code>[Blender config directory]/scripts/addons/hypermesh/</code>).</p>

<h2 id="math">Math</h2>

<p>This section describes the mathematics underlying the addon.
It is recommended that you read this section to understand the exact behavior of the addon.
The mathematical concepts will be illustrated using pictures in one dimension lower
(so the pictures show how the analogous addon would work for manipulating 3-dimensional meshes
using software than handles 2-dimensional meshes).</p>

<h3 id="projecting-from-4-space-to-3-space">Projecting from 4-space to 3-space</h3>

<p>The meshes that are handles by the addon are meshes living in 4-dimensional Euclidean space.
These meshes have</p>

<ul>
  <li>vertices: each vertex has a position given by 4 floating point numbers</li>
  <li>edges: an edge connects two vertices</li>
  <li>faces: a face spans several edges</li>
</ul>

<p>This is just like an ordinary Blender mesh, except that vertices have 4 coordinates.
The addon does <strong>not</strong> handle hyperfaces, 3-dimensional faces of 4-dimensional meshes.
(Such hyperfaces would overlap after projection to 3-space. There are
currently no plans to ever support hyperfaces.)</p>

<p>A hypermesh is visualized in the 3D view by <em>projecting</em> it to 3-dimensional Euclidean
space (the same way that 3-dimensional objects in the viewport are visualized by projecting
onto a flat monitor for most users — so, really, the 4-meshes are projected to 3-space
and then to 2-space, and that’s what you see).</p>

<p>The following picture illustrates such a projection.</p>

<p><img src="images/projection.png?raw=true" alt="Projecting a point from 3-space to 2-space." /></p>

<p>The 3-dimensional space is projected to the 2-dimensional space represented by the semi-transparent plane.
At the center of this plane is a black dot known as the <em>view center</em>.
The camera position is the other black dot.
The picture shows the projection of the white dot to the plane.</p>

<ul>
  <li>If the projection is <em>perspective</em>, the projection of the white dot onto the plane is
the red dot on the yellow line (the line connecting the camera and the point to be projected).</li>
  <li>If the projection is <em>not perspective</em>, the projection of the white dot onto the plane is
the red dot on the green line (the green line is parallel to the purple one connecting camera and
view center).</li>
</ul>

<p>What the addon does is the analogous operation from 4-space to 3-space.
The following parameters describe a projection:</p>

<ul>
  <li><code>View center</code>: the origin of the 3-space that we are projecting to
(the rightmost black dot in the picture)</li>
  <li><code>Camera offset</code>: the vector from the <code>viewcenter</code> to the camera’s position
(purple and pointing to the left in the picture)</li>
  <li><code>X vector</code>: the vector such that (view center + x vector) is projected to (1,0,0)
(blue and pointing to the lower right in the picture)</li>
  <li><code>Y vector</code>: the vector such that (view center + y vector) is projected to (0,1,0)
(orange and pointing up in the picture)</li>
  <li><code>Z vector</code>: the vector such that (view center + z vector) is projected to (0,0,1)
(missing from the picture because there’s a dimension missing)</li>
  <li><code>Perspective</code>: whether to project using perspective or not</li>
</ul>

<p>In the picture above, the white point gets mapped to about (0.4, -0.2) in the perspective case,
and to about (0.8, -0.3) in the non-perspective case.</p>

<h3 id="updating-hyperposition-after-mesh-edit">Updating hyperposition after mesh edit</h3>

<p>When the hyperposition of a vertex is changed, it is re-projected and the 3D view shows
the updated projection.
This is straightforward.
However, when the <em>projection</em> of the vertex is manipulated, updating its hyperposition
is ambiguous: there are infinitely many points in 4-space that project to the given point.
To resolve this ambiguity, the addon does the following: <em>when a vertex is moved in 3-space,
the underlying point in 4-space moves <strong>parallel</strong> to the projection 3-space</em>.</p>

<h2 id="using-the-addon">Using the addon</h2>

<h3 id="creating-a-hypermesh">Creating a hypermesh</h3>

<p>By default, the addon does not affect any of Blender’s mesh operations.
Only the meshes that are explicitly marked as <em>hypermeshes</em> will be treated by the addon.</p>

<p>There are two ways of creating a hypermesh:</p>

<ul>
  <li>To turn an existing mesh into a hypermesh, select it and call the <code>Make hyper</code> operator
(<code>&lt;spacebar&gt; -&gt; Make hyper</code> in the 3D view).</li>
  <li>You can also insert a hypermesh using the <code>Insert hypercube</code> operator
(<code>&lt;spacebar&gt; -&gt; Insert hypercube</code> in the 3D view).</li>
</ul>

<h3 id="ui-panels">UI panels</h3>

<p>Now that you have created a hypermesh, new panels appear in the UI:</p>

<ul>
  <li>
    <p>In the Scene context of the Properties window, a panel called <em>Hypermesh projections</em>
lists the projections from 4-space to 3-space that are available in the scene.</p>

    <p>Four useful projections are added by default. These are called <em>No W</em>, <em>No X</em>, <em>No Y</em> and <em>No Z</em>.
The projection <em>No W</em> just projects the point (w,x,y,z) to (x,y,z), effectively allowing you
to directly edit 3 of the 4 coordinates of each vertex. The other default projections
are analogous.</p>

    <p>Projections can be edited in this panel. For the meaning of the different options, refer
to the math of the projections earlier in this document.</p>

    <p>You can rename a projection by double-clicking on its name. It is currently impossible
to add or remove projections (so you’ll always have 4 in the scene).</p>
  </li>
  <li>
    <p>In the properties panel in the 3D View, another panel called <em>Select projection</em>
allows you to select which projection to use for the selected object.
When you pick a different projection, the 3-dimensional mesh changes shape (but the underlying
4-dimensional mesh stays the same).</p>
  </li>
  <li>
    <p>In the 3D View when editing a hypermesh (<code>&lt;tab&gt;</code> for edit mode), a panel called
<em>Hypercoordinates</em> shows the average of the positions of all selected vertices
in 4-space.
Please read the subsection <em>Updating the hypercoordinates</em> before using this panel.</p>
  </li>
</ul>

<p align="center">
    <img align="center" src="images/hypermesh_projections.png" alt="The Hypermesh projections panel, showing the default No Y projection." />
</p>

<p align="center">
    <img align="center" src="images/select_projection.png" alt="The Select projection panel." />
</p>

<p align="center">
    <img align="center" src="images/hypercoordinates.png" alt="The Hypercoordinates panel." />
</p>

<h3 id="updating-the-hypercoordinates">Updating the hypercoordinates</h3>

<p>When the 3-dimensional projection of a hypermesh is manipulated,
the hypercoordinates of the vertices are not automatically updated (for performance reasons).
If you want to force an update of the hypercoordinates, use the <code>Update hypercoordinates</code> operator
(<code>&lt;spacebar&gt; -&gt; Update hypercoordinates</code>).
Note that this is necessary in order for the panel <em>Hypercoordinates</em> to show the correct coordinates (!).</p>

<p>If you are not interested in precise hypercoordinates, it is not necessary to call the
<code>Update hypercoordinates</code> operator. For example, when you change a hypermesh’s projection,
the hypercoordinates are recalculated automatically before the hypermesh is projected using
the new projection.</p>


</body>

</html>
